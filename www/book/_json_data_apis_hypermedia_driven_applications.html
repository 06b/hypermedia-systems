<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.18">
<meta name="author" content="Adam Stepinski, Carson Gross, Deniz Akşimşek">
<title>Building Hypermedia Systems</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<style>.toc-current{font-weight: bold;} .toc-root{font-family: "Open Sans","DejaVu Sans",sans-serif;
                       font-size: 0.9em;} #content{display: flex; flex-direction: column; flex: 1 1 auto;}
             .nav-footer{text-align: center; margin-top: auto;}
             .nav-footer > p > a {white-space: nowrap;}</style>
</head>
<body id="_json_data_apis_hypermedia_driven_applications" class="book">
<div id="header">
<h1>Building Hypermedia Systems</h1>
<div class="details">
<span id="author" class="author">Adam Stepinski, Carson Gross, Deniz Akşimşek</span><br>
</div>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<p><span class="toc-root"><a href="BuildingHypermediaSystems.html">Building Hypermedia Systems</a></span></p><ul class="sectlevel0">
<li><a href="_building_hypermedia_systems.html">Building Hypermedia Systems</a>
<ul class="sectlevel1">
<li><a href="_reintroducing_hypermedia.html">1. Reintroducing Hypermedia</a>
</li>
<li><a href="_rest_hateoas_and_all_that.html">2. REST, HATEOAS and All That</a>
</li>
<li><a href="_building_a_simple_web_1_0_application.html">3. Building A Simple Web 1.0 Application</a>
</li>
<li><a href="_extending_html_as_hypermedia.html">4. Extending HTML As Hypermedia</a>
</li>
<li><a href="_htmx_in_action.html">5. htmx In Action</a>
</li>
<li><a href="_building_hypermedia_systems_2.html">6. Building Hypermedia Systems</a>
</li>
<li><a href="_more_htmx_patterns.html">7. More htmx Patterns</a>
</li>
<li><a href="_building_hypermedia_systems_3.html">8. Building Hypermedia Systems</a>
</li>
<li><a href="_a_dynamic_archive_ui_with_htmx.html">9. A Dynamic Archive UI With htmx</a>
</li>
<li><a href="_building_hypermedia_systems_4.html">10. Building Hypermedia Systems</a>
</li>
<li><a href="_deep_htmx.html">11. Deep htmx</a>
</li>
<li><a href="_hyperview_a_mobile_hypermedia.html">12. Hyperview: A Mobile Hypermedia</a>
</li>
<li><a href="_building_a_contacts_app_with_hyperview.html">13. Building a Contacts App With Hyperview</a>
</li>
<li><a href="_extending_the_hyperview_client.html">14. Extending the Hyperview Client</a>
</li>
<li><a href="_client_side_scripting.html">15. Client Side Scripting</a>
</li>
<li><a href="_building_hypermedia_systems_5.html">16. Building Hypermedia Systems</a>
</li>
<li><a href="_json_data_apis_hypermedia_driven_applications.html"><span class="toc-current">17. JSON Data APIs &amp; Hypermedia Driven Applications</span></a>
<ul class="sectlevel2">
<li><a href="_json_data_apis_hypermedia_driven_applications.html#_json_data_apis">JSON Data APIs</a>
</li>
<li><a href="_json_data_apis_hypermedia_driven_applications.html#_hypermedia_apis_json_data_apis">17.1. Hypermedia APIs &amp; JSON Data APIs</a>
<ul class="sectlevel3">
<li><a href="_json_data_apis_hypermedia_driven_applications.html#_differences_between_hypermedia_apis_data_apis">17.1.1. Differences Between Hypermedia APIs &amp; Data APIs</a>
</li>
</ul>
</li>
<li><a href="_json_data_apis_hypermedia_driven_applications.html#_adding_a_json_data_api_to_contact_app">17.2. Adding a JSON Data API To Contact.app</a>
<ul class="sectlevel3">
<li><a href="_json_data_apis_hypermedia_driven_applications.html#_picking_a_root_url_for_our_api">17.2.1. Picking a Root URL For Our API</a>
</li>
<li><a href="_json_data_apis_hypermedia_driven_applications.html#_our_first_json_endpoint_listing_all_contacts">17.2.2. Our First JSON Endpoint: Listing All Contacts</a>
</li>
<li><a href="_json_data_apis_hypermedia_driven_applications.html#_adding_contacts">17.2.3. Adding Contacts</a>
</li>
<li><a href="_json_data_apis_hypermedia_driven_applications.html#_viewing_contact_details">17.2.4. Viewing Contact Details</a>
</li>
<li><a href="_json_data_apis_hypermedia_driven_applications.html#_updating_deleting_contacts">17.2.5. Updating &amp; Deleting Contacts</a>
</li>
<li><a href="_json_data_apis_hypermedia_driven_applications.html#_additional_data_api_considerations">17.2.6. Additional Data API Considerations</a>
</li>
<li><a href="_json_data_apis_hypermedia_driven_applications.html#_the_shape_of_our_two_apis">17.2.7. The "Shape" of Our Two APIs</a>
</li>
<li><a href="_json_data_apis_hypermedia_driven_applications.html#_the_model_view_controller_mvc_paradigm">17.2.8. The Model View Controller (MVC) Paradigm</a>
</li>
</ul>
</li>
<li><a href="_json_data_apis_hypermedia_driven_applications.html#_summary_11">17.3. Summary</a>
</li>
</ul>
</li>
<li><a href="_other_hypermedia_libraries_technologies.html">18. Other Hypermedia Libraries &amp; Technologies</a>
</li>
<li><a href="_conclusion_3.html">19. Conclusion</a>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_json_data_apis_hypermedia_driven_applications">17. JSON Data APIs &amp; Hypermedia Driven Applications</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This chapter covers</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Contrasting JSON-based Data APIs with hypermedia APIs</p>
</li>
<li>
<p>Adding a Data API to our application</p>
</li>
<li>
<p>Adding hypermedia controls to our JSON Data API</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_json_data_apis">JSON Data APIs</h3>
<div class="paragraph">
<p>In this book we have been focusing on using hypermedia to build Hypermedia Driven Applications.  In doing so we are
following the original networking architecture of the web, and building a REST-ful system, in the original sense
of that term.</p>
</div>
<div class="paragraph">
<p>However, today, we should acknowledge that many web applications are <em>not</em> built using this approach.  Instead, they use a
Single Page Application front end library such as React to build their application, and they interact with the server
via a JSON API.  This JSON API almost never uses any hypermedia concepts.  Rather JSON APIs tend to be a <em>Data API</em>, that
is, an API that simply returns structured domain data to the client without any hypermedia control information.  The client
itself must know how to interpret the JSON Data: what end points are associated with the data, how certain fiels should
be displayed, and so on.</p>
</div>
<div class="paragraph">
<p>Now, believe it or not, we <em>have</em> been creating an API for our web application.  This may sound confusing to you!
An API?  We have just been creating a web application, with paths that return HTML.  How is that an API?</p>
</div>
<div class="paragraph">
<p>It turns out that our web application is, indeed, providing an API.  It just happens to be an API that a <em>hypermedia client</em>,
that is, a browser, understands.  We are building an API for the browser to interact with over HTTP, and, thanks to the
magic of HTML and hypermedia, the browser doesn&#8217;t need to know anything about our hypermedia API beyond an entry point
URL: all the actions and display information comes, self-contained, within the HTML responses!</p>
</div>
<div class="paragraph">
<p>Building web applications like this is so natural and simple that you might not think of it as an API at all, but I
assure you, it is!</p>
</div>
</div>
<div class="sect2">
<h3 id="_hypermedia_apis_json_data_apis">17.1. Hypermedia APIs &amp; JSON Data APIs</h3>
<div class="paragraph">
<p>OK, wo, we have a hypermedia API for Contact.app.  Should we include a Data API as well?</p>
</div>
<div class="paragraph">
<p>Sure!  The existence of a hypermedia API <em>in no way means</em> that you can&#8217;t <em>also</em> have a Data API.  In fact, this is a
common situation in traditional web applications: there is the "web application" that is entered through that entry point
URL, say <code><a href="https://mywebapp.example.com/" class="bare">https://mywebapp.example.com/</a></code>.  And there is also a <em>separate</em> JSON API that is accessible through another
URL, perhaps <code><a href="https://api.mywebapp.example.com/v1" class="bare">https://api.mywebapp.example.com/v1</a></code>.</p>
</div>
<div class="paragraph">
<p>This is a perfectly reasonable way to split up the hypermedia interface to your application and the Data API you provide
to other, non-hypermedia clients.</p>
</div>
<div class="paragraph">
<p>Now, why would you want to include a Data API along with a hypermedia API?  Well, because non-hypermedia clients want to
interact with your application as well, of course!  For example:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Perhaps you have a mobile application that isn&#8217;t built using HyperView.  That application will need to interact with
your server somehow, and using the existing HTML API would almost certainly be a poor fit!  You want programmatic
access to your system via a Data API, and JSON is a natural choice for this.</p>
</li>
<li>
<p>Perhaps you have automated script that needs to interact with the system on a regular basis.  For example, maybe we
have a bulk-import job that runs nightly, and needs to import/sync thousands of contacts.  While it would be possible
to script this agains the HTML API, it would also be annoying: parsing HTML in scripts is error prone and tedious.  It
would be better to have a simple JSON API for this use case.</p>
</li>
<li>
<p>Perhaps there are 3rd party clients who wish to integrate with your system&#8217;s data in some way.  Maybe a partner
wants to synchronize data nightly.  As with the bulk-import example, this isn&#8217;t a great use case for an HTML-based API,
and it would make more sense to provide something more amenable to scripting.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For all of these use cases, a JSON Data API makes sense: in each case the API is not being consumed by a hypermedia client,
so presenting am HTML-based hypermedia API would be inefficient and complicated.  A simple JSON Data API fits the bill for what
we want and, as always, we recommend using the right tool for the job.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">"What!?!  You Want Me To Parse HTML!?!"</div>
<div class="paragraph">
<p>A confusion we often run into in online discussions is that, when we advocate a hypermedia approach to building web
applications, is that people think we mean that they should parse the HTML responses from the server, and then dump the
data into their SPA framework or mobile applications.</p>
</div>
<div class="paragraph">
<p>This is, of course, silly.</p>
</div>
<div class="paragraph">
<p>What we mean, instead, is that you should consider using a hypermedia API <em>with a hypermedia
client</em>, like the browser, interpreting the hypermedia response itself and presenting it to the user. A hypermedia API
can&#8217;t simply be welded on top of an existing SPA approach.  It requires a sophisticated hypermedia client such as
the browser to be consumed effectively.</p>
</div>
<div class="paragraph">
<p>If you are writing code to tease apart your hypermedia only to then treat as data to feed into a client-side model ,
you are probably doing it wrong!</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_differences_between_hypermedia_apis_data_apis">17.1.1. Differences Between Hypermedia APIs &amp; Data APIs</h4>
<div class="paragraph">
<p>So, OK, let&#8217;s accept for a moment that we <em>are</em> going to have a Data API for our application, in addition to our
hypermedia API.  At this point, some developers may be wondering: whyhave both?  Why not have a single API, the JSON Data API, and have multiple clients use this one API to communicate
with it?  Isn&#8217;t it redundant to have both types of APIs for our application?</p>
</div>
<div class="paragraph">
<p>It&#8217;s a reasonable point: we do advocate having multiple APIs to your web application if necessary and, yes, this may
lead to some redundancy in code.  However, there are distinct advantages to both sorts of API and, even more so,
distinct requirements for both sorts of APIs.  By supporting both of these types of APIs separately you can get the
strengths of both, while keeping their varying styles of code and infrastructure needs cleanly split out.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s contrast the needs of JSON APIs with Hypermedia APIs:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">JSON API Needs</th>
<th class="tableblock halign-left valign-top">Hypermedia API</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>It must remain stable over time: you cannot change the API willy nilly or you risk breaking clients that use the API
and expect certain end points to behave in certain ways</p>
</li>
<li>
<p>It must be versioned: related to the first point, when you do make a major change, you need to version the API so
that clients that are using the old API continues to work</p>
</li>
<li>
<p>It should be rate limited: since data APIs are often used by other clients, not just your own internal web application,
requests should be rate limited, often by user, in order to avoid a single client overloading the system</p>
</li>
<li>
<p>It should be a general API: since the API is for <em>all</em> clients, not just for your web application, you should avoid
specialized end points that are driven by your own application needs.  Instead, the API should be general and expressive
enough to satisfy as many potential client needs as possible.</p>
</li>
<li>
<p>Authentication for these sorts of API is typically token based, which we will discuss in more detail later</p>
</li>
</ul>
</div>
<div class="ulist">
<ul>
</ul>
</div>
<div class="paragraph nav-footer">
<p></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>There is no need to remain stable over time: all URLs are discovered via HTML responses, so you can be much more aggressive
in changing the shape of a hypermedia API</p>
</li>
<li>
<p>This means that versioning is not an issue, another strength of the hypermedia approach</p>
</li>
<li>
<p>Rate limiting probably isn&#8217;t as important beyond the prevention of Distributed Denial of Service (DDoS) attacks</p>
</li>
<li>
<p>The API can be <em>very specific</em> to your application needs: since it is designed only for your particular web application,
and since the API is discovered through hypermedia, you can add and remove highly tuned end points for specific
features or optimization needs in your application</p>
</li>
<li>
<p>Authentication is typically managed through a session cookie established by a login page</p>
</li>
</ul>
</div>
<div class="ulist">
<ul>
</ul>
</div>
<div class="paragraph nav-footer">
<p></p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>These two different types of APIs have different strengths and needs, so it makes sense to use both. The hypermedia
approach can be used for your web application, allowing you to specialize the API for the "shape"
of your application.  The Data API approach can be used for other, non-hypermedia clients like mobile, integration
partners, etc.</p>
</div>
<div class="paragraph">
<p>Note in particular that, by splitting these two APIs apart from one another, you reduce the pressure that running your web
application through your general Data API produces to be constantly changing the API to address application needs.  Rather
than being thrashed around with every feature change, your Data API can focus on remaining stable and reliable.</p>
</div>
<div class="paragraph">
<p>This is the core strength splitting your Data API from your Hypermedia API, in our opinion.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">JSON Data APIs vs JSON "REST" APIs</div>
<div class="paragraph">
<p>Unfortunately, today, for historical reasons, what we are calling JSON Data APIs are often referred to
"REST APIs" in the industry.  This is ironic, because, by any reasonable reading of Roy Fielding&#8217;s work defining what REST
means, the vast majority of JSON APIs are <em>not</em> REST-ful.  Not even close!</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>I am getting frustrated by the number of people calling any HTTP-based interface a REST API. Today’s example is the
SocialSite REST API. That is RPC. It screams RPC. There is so much coupling on display that it should be given an X rating.</p>
</div>
<div class="paragraph">
<p>What needs to be done to make the REST architectural style clear on the notion that hypertext is a constraint? In other
words, if the engine of application state (and hence the API) is not being driven by hypertext, then it cannot be RESTful
and cannot be a REST API. Period. Is there some broken manual somewhere that needs to be fixed?</p>
</div>
</blockquote>
<div class="attribution">
&#8212; Roy Fielding<br>
<cite>https://roy.gbiv.com/untangled/2008/rest-apis-must-be-hypertext-driven</cite>
</div>
</div>
<div class="paragraph">
<p>The story of how "REST API" came to mean "JSON APIs" in the industry is a long and sordid long one, and beyond the
scope of this book.  However, if you are interested, you can refer to an essay entitled "How Did REST Come To Mean The Opposite of
REST?" on the htmx website:</p>
</div>
<div class="paragraph">
<p><a href="https://htmx.org/essays/how-did-rest-come-to-mean-the-opposite-of-rest/" class="bare">https://htmx.org/essays/how-did-rest-come-to-mean-the-opposite-of-rest/</a></p>
</div>
<div class="paragraph">
<p>In this book we will use the term "Data API" to describe these JSON APIs, while acknowledging that many people
in the industry will continue to call them "REST APIs" for the foreseeable future.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_adding_a_json_data_api_to_contact_app">17.2. Adding a JSON Data API To Contact.app</h3>
<div class="paragraph">
<p>Alright, so how are we going to add a JSON Data API to our application?  One approach, popularized by the Ruby on Rails
web framework, is to use the same URL endpoints as your hypermedia application, but use the HTTP <code>Accept</code> header to
determine if the client wants a JSON representation or an HTML representation.  The HTTP <code>Accept</code> header allows a client
to specify what sort of  Multipurpose Internet Mail Extensions (MIME) types, that is file types, it wants back from the
server: JSON, HTML, text and so on.</p>
</div>
<div class="paragraph">
<p>So, if the client wanted a JSON representation of all contacts, they might issue a <code>GET</code> request that looks like this:</p>
</div>
<div class="listingblock">
<div class="title">Listing 10. 219. A Request for a JSON Representation of All Contacts</div>
<div class="content">
<pre class="highlight"><code class="language-http request" data-lang="http request">Accept: application/json

GET /contacts</code></pre>
</div>
</div>
<div class="paragraph">
<p>If we adopted this pattern then our request handler for `/contacts/ would need to be updated to inspect this header and,
depending on the value, return a JSON rather than HTML representation for the contacts.  Ruby on Rails has support for
this pattern baked into the language, making it very easy to switch on the requested MIME type.</p>
</div>
<div class="paragraph">
<p>Unfortunately, our experience with this pattern has not been great, for reasons that should be clear given the
differences we outlined between Data and hypermedia APIs: they have different needs and often take on very different
"shapes", and trying to pound them into the same set of URLs ends up creating a lot of tension in the application code.</p>
</div>
<div class="paragraph">
<p>Given the different needs of the two APIs and our experience managing multiple APIs like this, we think separating the two
 from one another, and, therefore, breaking the JSON Data API out to its own set of URLs is the right choice.  This will allow us to evolve the two APIs separately from one another, and give us room
to improve each independently, in a manner consistent with their own individual strengths.</p>
</div>
<div class="sect3">
<h4 id="_picking_a_root_url_for_our_api">17.2.1. Picking a Root URL For Our API</h4>
<div class="paragraph">
<p>Given that we are going to split our JSON Data API routes out from our regular hypermedia routes, where should we place
them?  One important consideration here is that we want to make sure that we can version our API cleanly in some way,
regardless of the pattern we choose.  Looking around, a lot of places end up using a sub-domain for their apis, something
like <code><a href="https://api.mywebapp.example.com" class="bare">https://api.mywebapp.example.com</a></code> and, in fact, often encode versioning in the subdomain:
<code><a href="https://vi.api.mywebapp.example.com" class="bare">https://vi.api.mywebapp.example.com</a></code>.</p>
</div>
<div class="paragraph">
<p>While this makes sense for large companies, it seems like a bit of overkill for our modest little Contact.app.  Rather
than using sub-domains, which are a pain for local development, we will use sub-paths within the existing application:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>We will use <code>/api</code> as the root for our Data API functionality</p>
</li>
<li>
<p>We will use <code>/api/v1</code> as the entry point for version 1 of our Data API</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If and when we decide to bump the API version, we can move to <code>/api/v2</code> and so on.</p>
</div>
<div class="paragraph">
<p>This approach isn&#8217;t perfect, of course, but it will work for our simple application and can be adapted to a subdomain
approach or various other methods at a later point, when our Contact.app has taken over the internet and we can afford
a large team of API developers.  :)</p>
</div>
</div>
<div class="sect3">
<h4 id="_our_first_json_endpoint_listing_all_contacts">17.2.2. Our First JSON Endpoint: Listing All Contacts</h4>
<div class="paragraph">
<p>Let&#8217;s add our first Data API End point.  It will handle an HTTP <code>GET</code> request to <code>/api/v1/contacts</code>, and return
a JSON list of all contacts in the system.  In some ways it will look quite a bit like our initial code for the
hypermedia route <code>/contacts</code>: we will load all the contacts from the contacts database and then render some text
as a response.</p>
</div>
<div class="paragraph">
<p>We are also going to take advantage of a nice feature of Flask: if you simply return an object from a handler, it will
serialized (that is, convert) that object into a JSON response.  This makes it very easy to build simple JSON APIs
in flask!</p>
</div>
<div class="paragraph">
<p>Here is our code:</p>
</div>
<div class="listingblock">
<div class="title">Listing 10. 220. A JSON Data API To Return All Contacts</div>
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">@app.route("/api/v1/contacts", methods=["GET"]) <b class="conum">(1)</b>
def json_contacts():
    contacts_set = Contact.all()
    contacts_dicts = [c.__dict__ for c in contacts_set] <b class="conum">(2)</b>
    return {"contacts": contacts_dicts} <b class="conum">(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>JSON API gets its own path, starting with <code>/api</code></p>
</li>
<li>
<p>Convert the contacts array into an array of simple dictionary (map) objects</p>
</li>
<li>
<p>Return a dictionary that contains a <code>contacts</code> property of all the contacts</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>This Python code might look a little foreign to you if you are not a Python developer, but all we are doing is converting
our contacts into an array of simple name/value pairs and returning that array in an enclosing object as the <code>contacts</code>
property.  This object will be serialized into a JSON response automatically by Flask.</p>
</div>
<div class="paragraph">
<p>With this in place, if we make an HTTP <code>GET</code> request to <code>/api/v1/contacts</code>, we will see a response that looks something
like this:</p>
</div>
<div class="listingblock">
<div class="title">Listing 10. 221. Some Sample Data From Our API</div>
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
  "contacts": [
    {
      "email": "carson@example.comz",
      "errors": {},
      "first": "Carson",
      "id": 2,
      "last": "Gross",
      "phone": "123-456-7890"
    },
    {
      "email": "joe@example2.com",
      "errors": {},
      "first": "",
      "id": 3,
      "last": "",
      "phone": ""
    },
    ...</code></pre>
</div>
</div>
<div class="paragraph">
<p>So, you can see, we now have a way to get a relatively simple JSON representation of our contacts via an HTTP request.
Not perfect, but good enough for the purposes of this book!  It&#8217;s certainly good enough to write some basic automated
scripts against.  For example:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>You could move your contacts to another system on a nightly basis</p>
</li>
<li>
<p>You could back your contacts up to a local file</p>
</li>
<li>
<p>You could automate an email blast to your contacts</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Having this small JSON Data API opens up a lot of automation possibilities that would be messier to achieve with our existing
hypermedia API.</p>
</div>
</div>
<div class="sect3">
<h4 id="_adding_contacts">17.2.3. Adding Contacts</h4>
<div class="paragraph">
<p>Let&#8217;s move on the next piece of functionality: adding a new contact to the system.  Once again, our code is going
to look similar in some ways to the code that we wrote for our normal web application.  However, here we are also
going to see the JSON API and the hypermedia API for our web application begin to obviously diverge.</p>
</div>
<div class="paragraph">
<p>In the web application, we needed a separate path, <code>/contacts/new</code> to host the HTML form for creating a new contact.  In
the web application we made the decision to issue a <code>POST</code> to that same path to keep things consistent.</p>
</div>
<div class="paragraph">
<p>In the case of the JSON API, there is no such path needed: the JSON API "just is": it doesn&#8217;t need to provide any
hypermedia representation for creating a new contact.  You simply know where to issue a <code>POST</code> to to create a contact,
likely through some provided documentation about the API, and that&#8217;s it.</p>
</div>
<div class="paragraph">
<p>Because of that fact, we can put the "create" handler on the same path as the "list" handler: <code>/api/v1/contacts</code>, but
have it respond only to HTTP <code>POST</code> requests.</p>
</div>
<div class="paragraph">
<p>The code here is relatively straight forward: populate a new contact with the information from the <code>POST</code> request,
attempt to save it and, if it is not successful, show some error messages.  Here is the code:</p>
</div>
<div class="listingblock">
<div class="title">Listing 10. 222. Adding Contacts With Our JSON API</div>
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">@app.route("/api/v1/contacts", methods=["POST"]) <b class="conum">(1)</b>
def json_contacts_new():
    c = Contact(None, request.form.get('first_name'), request.form.get('last_name'), request.form.get('phone'),
                request.form.get('email')) <b class="conum">(2)</b>
    if c.save(): <b class="conum">(3)</b>
        return c.__dict__
    else:
        return {"errors": c.errors}, 400 <b class="conum">(4)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>This handler is on the same path as the first one for our JSON API, but handles <code>POST</code> requests</p>
</li>
<li>
<p>We create a new Contact based on values submitted with the request</p>
</li>
<li>
<p>We attempt to save the contact and, if successful, render it as a JSON object</p>
</li>
<li>
<p>If the save is not successful, we render an object showing the errors, with a response code of <code>400 (Bad Request)</code></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>In some ways similar to our <code>contacts_new()</code> handler from our web application (we are creating the contact and attempting
to save it) but in other ways very different:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>There is no redirection happening here on a successful creation, because we are not dealing with a hypermedia client
like the browser</p>
</li>
<li>
<p>In the case of a bad request, we simply return an error response code, <code>400 (Bad Request)</code>.  This is in contrast with
the web application, where we simply re-render the form with error messages in it.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It is these sorts of differences that, over time, build up and make the idea of keeping your JSON and hypermedia APIs
on the same set of URLs less and less appealing.</p>
</div>
</div>
<div class="sect3">
<h4 id="_viewing_contact_details">17.2.4. Viewing Contact Details</h4>
<div class="paragraph">
<p>Next let&#8217;s make it possible for a JSON API client to download the details for a single client.  We will naturally use an
HTTP <code>GET</code> for this functionality and we will follow the convention we established for our regular web application, and
put the path at <code>/api/v1/contacts/&lt;contact id&gt;</code>, so, for example, if you want to see the details of the contact with the
id <code>42</code>, you would issue an HTTP <code>GET</code> to <code>/api/v1/contacts/42</code>.</p>
</div>
<div class="paragraph">
<p>This code is quite simple:</p>
</div>
<div class="listingblock">
<div class="title">Listing 10. 223. Getting the Details of a Contact in JSON</div>
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">@app.route("/api/v1/contacts/&lt;contact_id&gt;", methods=["GET"]) <b class="conum">(1)</b>
def json_contacts_view(contact_id=0):
    contact = Contact.find(contact_id) <b class="conum">(2)</b>
    return contact.__dict__ <b class="conum">(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Add a new <code>GET</code> route at the path we want to use for viewing contact details</p>
</li>
<li>
<p>Look the contact up via the id passed in through the path</p>
</li>
<li>
<p>Convert the contact to a dictionary, so it can be rendered as JSON response</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Nothing too complicated: we look the contact up by ID, provided in the path to the controller, and look that contact up.
We then render it as JSON.  You have to appreciate the simplicity of this code!</p>
</div>
<div class="paragraph">
<p>Next, let&#8217;s add updating and deleting a contact as well.</p>
</div>
</div>
<div class="sect3">
<h4 id="_updating_deleting_contacts">17.2.5. Updating &amp; Deleting Contacts</h4>
<div class="paragraph">
<p>As with the create contact API end point, because there is no HTML UI to produce for them, we can reuse the
<code>/api/v1/contacts/&lt;contact id&gt;</code> path.  We will use the <code>PUT</code> HTTP action for updating a contact and the <code>DELETE</code>
action for deleting one.</p>
</div>
<div class="paragraph">
<p>Our update code is going to look nearly identical to the create handler, except that, rather than creating a new contact,
we will look up the contact by ID and update its fields.  In this sense we are just combining the code of the create
handler and the detail view handler.</p>
</div>
<div class="listingblock">
<div class="title">Listing 10. 224. Updating A Contact With Our JSON API</div>
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">@app.route("/api/v1/contacts/&lt;contact_id&gt;", methods=["PUT"]) <b class="conum">(1)</b>
def json_contacts_edit(contact_id):
    c = Contact.find(contact_id) <b class="conum">(2)</b>
    c.update(request.form['first_name'], request.form['last_name'], request.form['phone'], request.form['email']) <b class="conum">(3)</b>
    if c.save(): <b class="conum">(4)</b>
        return c.__dict__
    else:
        return {"errors": c.errors}, 400</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>We handle <code>PUT</code> requests to the URL for a given contact</p>
</li>
<li>
<p>Look the contact up via the id passed in through the path</p>
</li>
<li>
<p>We update the contact&#8217;s data from the values included in the request</p>
</li>
<li>
<p>From here on the logic is identical to the <code>json_contacts_create()</code> handler</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Once again, very regular and, thanks to the built-in functionality in Flask, simple to implement.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s look at deleting a contact now.  This turns out to be even simpler: as with the update handler we are going to
look up the contact by id, and then, well, delete it.  At that point we can return a simple JSON object indicating
success.</p>
</div>
<div class="listingblock">
<div class="title">Listing 10. 225. Deleting A Contact With Our JSON API</div>
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">@app.route("/api/v1/contacts/&lt;contact_id&gt;", methods=["DELETE"]) <b class="conum">(1)</b>
def json_contacts_delete(contact_id=0):
    contact = Contact.find(contact_id)
    contact.delete() <b class="conum">(2)</b>
    return jsonify({"success": True}) <b class="conum">(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>We handle <code>DELETE</code> requests to the URL for a given contact</p>
</li>
<li>
<p>Look the contact up and invoke the <code>delete()</code> method on it</p>
</li>
<li>
<p>Return a simple JSON object indicating that the contact was successfully deleted</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>And, with that, we have our simple little JSON Data API to live alongside our regular web application, nicely separated
out from the main web application, so it can evolve separately as needed.</p>
</div>
</div>
<div class="sect3">
<h4 id="_additional_data_api_considerations">17.2.6. Additional Data API Considerations</h4>
<div class="paragraph">
<p>Now, we obviously have a lot more to do if we want to make this a production ready JSON API:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>We don&#8217;t have any rate limiting, which is important for any publicly facing Data API to avoid abusive clients.</p>
</li>
<li>
<p>Even more crucially, there is currently no authentication mechanism.  (We don&#8217;t have one for our web application either!)</p>
</li>
<li>
<p>We currently don&#8217;t support paging of our contact data.</p>
</li>
<li>
<p>Lots of small issues that we aren&#8217;t addressing, such as rendering a proper <code>404 (Not Found)</code> response if someone makes
a request with a contact id that doesn&#8217;t exist.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A full discussion around all of these topics is beyond the scope of this book, but I&#8217;d like to focus in on one in
particular, authentication, in order to show the difference between our hypermedia and JSON API.  In order to secure
our application we need to add <em>authentication</em>, some mechanism for determining who a request is coming from, and
also <em>authorization</em>, determining if they have the right to perform the request.</p>
</div>
<div class="paragraph">
<p>We will set authorization aside for now and consider only authentication.</p>
</div>
<div class="sect4">
<h5 id="_authentication_in_web_applications">Authentication in Web Applications</h5>
<div class="paragraph">
<p>In the HTML web application world, authentication has traditionally been done via a login page that asks a user for
their username (often their email) and a password.  This password is then checked against a database of (hashed)
passwords to establish that the user is who they say they are.  If the password is correct, then a <em>session cookie</em>
is established, indicating who the user is.  This cookie is then sent with every request that the user makes to
the web application, allowing the application to know which user is making a given request.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">HTTP Cookies</div>
<div class="paragraph">
<p>HTTP Cookies are kind of a strange feature of HTTP.  In some ways they violate the goal of remaining stateless, a
major component of the REST-ful architecture: a server will often use a session cookie as an index into state kept
on the server "on the side", such as a cache of the last action performed by the user.</p>
</div>
<div class="paragraph">
<p>Nonetheless, cookies have proven extremely useful and so people tend not to complain about this aspect of them too much
(I&#8217;m not sure what our other options would be here!)  An interesting example of pragmatism gone (relatively) right in
web development.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>In comparison with the typical web application approach to authentication, a JSON API will typically use some sort of
<em>token based</em> authentication: an authentication token will be established via a mechanism like OAuth, and that authentication
token will then be passed, often as an HTTP Header, with every request that a client makes.</p>
</div>
<div class="paragraph">
<p>At a high level this is similar to what happens in normal web application authentication: a token is established somehow
and then then token is part of every request.  However, in practice, the mechanics tend to be wildly different:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Cookies are part of the HTTP specification and can be easily <em>set</em> by an HTTP Server</p>
</li>
<li>
<p>JSON Authentication tokens, in contrast, often require elaborate exchange mechanics like OAuth to be established</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These differing mechanics for establishing authentication are yet another good reason for splitting our JSON and hypermedia
APIs up.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_the_shape_of_our_two_apis">17.2.7. The "Shape" of Our Two APIs</h4>
<div class="paragraph">
<p>When we were building out our API, we noted that in many cases the JSON API didn&#8217;t require as many end points as our
hypermedia API did: we didn&#8217;t need a <code>/contacts/new</code> handler, for example, to provide a hypermedia representation for
creating contacts.</p>
</div>
<div class="paragraph">
<p>Another aspect of our hypermedia API to consider was the performance improvement we made: we pulled the total contact count
out to a separate end point and implemented the "Lazy Load" pattern, to improve the perceived performance of our
application.</p>
</div>
<div class="paragraph">
<p>Now, if we had both our hypermedia and JSON API sharing the same paths, would we want to publish this API as a JSON
end point as well?</p>
</div>
<div class="paragraph">
<p>Maybe, but maybe not.  This was a pretty specific need for our web application, and, absent a request from a user of
our JSON API, it doesn&#8217;t make sense to include it for JSON consumers.</p>
</div>
<div class="paragraph">
<p>And what if, by some miracle, the performance issues with <code>Contact.count()</code> that we were addressing with the Lazy Load
pattern goes away?  Well, in our Hypermedia Drive Application we can simply revert to the old code and include the
count directly in the request to <code>/contacts</code>.  We can remove the <code>contacts/count</code> end point and all the logic associated
with it.  By the miracle of hypermedia, the system will continue to work just fine!</p>
</div>
<div class="paragraph">
<p>But what if we had tied our JSON API and hypermedia API together, and published <code>/contacts/count</code> as a supported end
point for our JSON API?  In that case we couldn&#8217;t simply remove the end point: a (non-hypermedia) client might be
relying on it!</p>
</div>
<div class="paragraph">
<p>Once again you can see the flexibility of the hypermedia approach and why separating your JSON API out from your
hypermedia API lets you take maximum advantage of that flexibility.</p>
</div>
</div>
<div class="sect3">
<h4 id="_the_model_view_controller_mvc_paradigm">17.2.8. The Model View Controller (MVC) Paradigm</h4>
<div class="paragraph">
<p>One thing you may have noticed about the handlers for our JSON API is that they are relatively simple and regular.
Most of the hard work of updating data and so forth is done within the contact model itself: the handlers act as simple
connectors that provide a go-between the HTTP requests and the model.</p>
</div>
<div class="paragraph">
<p>This is the ideal controller of the Model-View-Controller (MVC) paradigm that was so popular in the early web: a controller
should be "thin", with the model containing the majority of the logic in the system.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">The Model View Controller Pattern</div>
<div class="paragraph">
<p>The Model View Controller design pattern is a classic architectural pattern in software development, and was a major
influence in early web development.  It is no longer emphasized as heavily, as web development has split into front-end
and back-end camps, but most web developers are still familiar with the idea.</p>
</div>
<div class="paragraph">
<p>Traditionally, the MVC pattern mapped into web development like so:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Model - A collection of "domain" classes that implement all the logic and rules for the particular domain your application
is designed for.  The model typically provides "resources" that are then presented to clients as HTML "representations".</p>
</li>
<li>
<p>View - Typically views would be some sort of client-side templating system, and would render the aforementioned HTML representation
for a given Model instance.</p>
</li>
<li>
<p>Controller - The controllers job is to take HTTP requests, convert them into sensible requests to the Model and forward
those requests on to the appropriate Model objects.  It then passes the HTML representation back to the client as an
HTTP response.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>Thin controllers make it easy to split your JSON and hypermedia APIs out, because all the important logic lives in the domain
model that is shared by both.  This allows you to evolve both separately, while still keeping logic in sync with one
another.  With properly built "thin" controllers and "fat" models, keeping two separate APIs both in sync and yet
still evolving separately is not as difficult or as crazy as it might sound at first.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_summary_11">17.3. Summary</h3>
<div class="ulist">
<ul>
<li>
<p>In this chapter we saw that a Hypermedia Driven Application can have a JSON Data API as well</p>
</li>
<li>
<p>Hypermedia APIs and JSON Data APIs have different needs and shapes</p>
</li>
<li>
<p>By properly factoring your back end code, much of the logic can be shared between the two APIs</p>
</li>
<li>
<p>By splitting your APIs into both a Hypermedia API and a JSON Data API, you can evolve both without interferring with
  one another, allowing you to, for example, change your Hypermedia API dramatically without breaking your JSON API
  clients
= Building Hypermedia Systems
:chapter: 13
:sectnums:
:figure-caption: Figure 10.
:listing-caption: Listing 10.
:table-caption: Table 10.
:sectnumoffset: 12
:leveloffset: 1
:sourcedir: ../code/src
:source-language:</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="paragraph nav-footer">
<p>← Previous: <a href="_building_hypermedia_systems_5.html">Building Hypermedia Systems</a> | ↑ Up: <a href="_building_hypermedia_systems.html">Building Hypermedia Systems</a> | ⌂ Home: <a href="BuildingHypermediaSystems.html">Building Hypermedia Systems</a> | Next: <a href="_other_hypermedia_libraries_technologies.html">Other Hypermedia Libraries &amp; Technologies</a> →</p>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2022-10-20 12:44:43 -0600
</div>
</div>
</body>
</html>